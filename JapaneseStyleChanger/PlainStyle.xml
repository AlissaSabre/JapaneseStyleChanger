<?xml version="1.0"?>
<Rules>

    <!-- Remove です after a 用言 or before a certain 終助詞. -->
    <!-- Note that we don't remove it if です is in 意思推量形, e.g., 青いでしょう,
         because we prefer 青いだろう over 青かろう. -->
    <Rule>
        <Find>
            (し)	<Node Pos1="動詞|形容詞|助動詞" />
            です	<Node Lemma_id="25653" CForm="!意思推量形" />
        </Find>
        <Replace>
            (し)	<Node ref="$1" CForm="$2" />
        </Replace>
    </Rule>
    <Rule>
        <Find>
            です	<Node Lemma_id="25653" />
            (終助)	<Node Pos1="助詞" Pos2="終助詞" /><!-- We need to somehow constrain this 終助詞... FIXME! -->
        </Find>
        <Replace>
            (終助)	<Node ref="$2" />
        </Replace>
    </Rule>

    <!-- Change です to だ -->
    <Rule>
        <Find>
            です	<Node Lemma_id="25653" />
        </Find>
        <Replace>
            だ		<Node Lemma_id="22916" CForm="$1" />
        </Replace>
    </Rule>

    <!-- Change ありません to ない. -->
    <Rule>
        <Find>
            あり	<Node Lemma_id="1216" />
            ませ	<Node Lemma_id="35697" />
            ん		<Node Lemma_id="19587" />
        </Find>
        <Replace>
            ない	<Node Lemma_id="27442" OrthBase="ない" CForm="$3" />
        </Replace>
    </Rule>

    <!-- Remove ます -->
    <Rule>
        <Find>
            (し)	<Node Pos1="動詞|形容詞|助動詞" />
            ませ	<Node Lemma_id="35697" />
            ん		<Node Lemma_id="19587" />
        </Find>
        <Replace>
            (し)	<Node ref="$1" OrthBase="$1" CForm="$2" />
            ない	<Node Lemma_id="27442" OrthBase="ない" CForm="$3" />
        </Replace>
    </Rule>
    <Rule>
        <Find>
            (し)	<Node Pos1="動詞|形容詞|助動詞" />
            まし	<Node Lemma_id="35697" />
            た		<Node Lemma_id="21642" />
        </Find>
        <Replace>
            (し)  <Node ref="$1" OrthBase="$1" CForm="$2" />
            た/だ   <Node Lemma_id="$3" CForm="$3" /><!-- Don't use @ref so that OrthBase is unspecified. -->
        </Replace>
    </Rule>
    <Rule>
        <Find>
            (し)	<Node label="1" Pos1="動詞|形容詞|助動詞" />
            ます	<Node label="2" Lemma_id="35697" />
        </Find>
        <Replace>
            (する)	<Node ref="$1" CForm="$2" />
        </Replace>
    </Rule>

</Rules>
